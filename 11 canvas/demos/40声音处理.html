<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
	<title>40声音处理</title>
	<style>
		body {
			padding: 0;
			margin: 0;
			background-color: #f0f0f0;
			overflow: hidden;
		}
	</style>
	<script src="bower_components/konva/konva.min.js"></script>
</head>
<body>
	<div id="container">
	</div>

	<script>
		//创建舞台
		var stage = new Konva.Stage({
			container: 'container',
			width: window.innerWidth,//全屏
			height: window.innerHeight
		});

		//创建层
		var layer = new Konva.Layer();
		stage.add(layer);
	
		//中心点坐标
		var cenX = stage.width() / 2;
		var cenY = stage.height() / 2;

		var circle = new Konva.Circle( {
			x: cenX,
			y: cenY,
			radius: 100,
			fill: '#c0c0c0',

		} );
		layer.add( circle );
		layer.draw();

		var audio = new Audio();//创建音频标签
		audio.src = "audio/bg.mp3";//设置音频标签的src
		
		audio.onloadeddata = function() {	//音频数据加载完成后执行的代码
			// 加载完成
			circle.on( 'click tap', function() {  /
				audio.currentTime = 0;	//让音频回到开始重新播放
				audio.play();			//播放音频
			});

			circle.on( 'mouseleave', function() {
				audio.pause();			//暂停
			});
		};

	</script>
</body>
</html>